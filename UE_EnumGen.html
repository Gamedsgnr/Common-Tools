<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>C++ Enum Generator</title>
    <style>
        :root { --bg: #1e1e1e; --panel: #252526; --accent: #c586c0; /* Purple for C++ keywords */ --text: #d4d4d4; --green: #4ec9b0; --blue: #569cd6; --string: #ce9178; }
        body { font-family: 'Segoe UI', Consolas, sans-serif; background-color: var(--bg); color: var(--text); padding: 20px; display: flex; justify-content: center; }
        .container { background-color: var(--panel); width: 850px; padding: 25px; border-radius: 8px; border: 1px solid #333; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        h2 { margin-top: 0; color: var(--blue); border-bottom: 1px solid #333; padding-bottom: 10px; }
        h4 { margin: 15px 0 5px 0; color: #9cdcfe; }
        
        .row { display: flex; gap: 20px; margin-bottom: 15px; }
        .col { flex: 1; display: flex; flex-direction: column; }
        
        textarea { background: #3c3c3c; color: white; border: 1px solid #333; padding: 10px; border-radius: 4px; height: 120px; font-family: monospace; resize: vertical; }
        input[type="text"], select { background: #3c3c3c; color: var(--text); border: 1px solid #333; padding: 8px; border-radius: 4px; font-family: monospace; font-size: 1em; }
        input[type="text"]:focus { border-color: var(--blue); outline: none; }

        label { font-size: 0.85em; color: #aaa; margin-bottom: 4px; display: block; }
        
        button { background-color: var(--blue); color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-weight: bold; transition: 0.2s; margin-top: 10px; }
        button:hover { background-color: #4b8bc0; }

        .settings-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; background: #2d2d2d; padding: 15px; border-radius: 6px; border: 1px solid #3e3e3e; }
        .checkbox-row { display: flex; align-items: center; gap: 8px; font-size: 0.9em; margin-top: 5px; }
        input[type="checkbox"] { transform: scale(1.2); }

        #outputArea { height: 300px; color: #d4d4d4; }
        
        /* Syntax Highlight Colors emulation */
        .hl-kw { color: #569cd6; } /* keyword */
        .hl-type { color: #4ec9b0; } /* type */
        .hl-str { color: #ce9178; } /* string */
    </style>
</head>
<body>

<div class="container">
    <h2>üî∑ C++ Enum Generator</h2>

    <div class="row">
        <div class="col">
            <label>–°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏: –ø—Ä–æ–±–µ–ª, –∑–∞–ø—è—Ç–∞—è, Enter):</label>
            <textarea id="inputStr" placeholder="Idle, Run, Jump, AttackMelee, AttackRanged, Death">Idle, Run, Jump, AttackMelee, AttackRanged, Death</textarea>
        </div>
    </div>

    <div class="settings-grid">
        <div>
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –≠–Ω—É–º–∞ (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ E, –¥–æ–±–∞–≤–ª—é —Å–∞–º):</label>
            <input type="text" id="enumName" value="UnitState">
            
            <label style="margin-top:10px;">–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö (Underlying Type):</label>
            <select id="enumType">
                <option value="uint8">uint8 (UE Standard)</option>
                <option value="int32">int32</option>
                <option value="none">–ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å</option>
            </select>
        </div>

        <div>
            <label>–°—Ç–∏–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:</label>
            <div class="checkbox-row">
                <input type="checkbox" id="useUEnum" checked onchange="updateUI()">
                <span>Unreal Engine (UENUM + BlueprintType)</span>
            </div>
            <div class="checkbox-row">
                <input type="checkbox" id="genMetaData" checked>
                <span>–î–æ–±–∞–≤–∏—Ç—å UMETA(DisplayName)</span>
            </div>
            <div class="checkbox-row">
                <input type="checkbox" id="addMax" checked>
                <span>–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç _MAX –≤ –∫–æ–Ω—Ü–µ</span>
            </div>
            <div class="checkbox-row">
                <input type="checkbox" id="useClass" checked>
                <span>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å enum class (Scoped)</span>
            </div>
        </div>
    </div>
        
    <button onclick="generateEnum()" style="width: 100%">–°–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –ö–û–î</button>

    <div class="row" style="margin-top: 20px;">
        <div class="col">
            <label>–ì–æ—Ç–æ–≤—ã–π –∫–æ–¥:</label>
            <textarea id="outputArea" readonly spellcheck="false"></textarea>
            <button onclick="copyResult()" style="width: auto; align-self: flex-start; margin-top:5px; background-color: #333;">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
    </div>
</div>

<script>
    function updateUI() {
        const isUE = document.getElementById('useUEnum').checked;
        const metaCheck = document.getElementById('genMetaData');
        if(!isUE) {
            metaCheck.checked = false;
            metaCheck.disabled = true;
        } else {
            metaCheck.disabled = false;
        }
    }

    function toTitleCase(str) {
        // –†–∞–∑–±–∏–≤–∞–µ—Ç CamelCase –Ω–∞ —Å–ª–æ–≤–∞ —Å –ø—Ä–æ–±–µ–ª–∞–º–∏: "AttackMelee" -> "Attack Melee"
        const result = str.replace(/([A-Z])/g, " $1");
        return result.charAt(0).toUpperCase() + result.slice(1).trim();
    }

    function generateEnum() {
        const input = document.getElementById('inputStr').value;
        let baseName = document.getElementById('enumName').value.trim();
        
        // –£–¥–∞–ª—è–µ–º –ø—Ä–µ—Ñ–∏–∫—Å E, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ–≥–æ —Å–ª—É—á–∞–π–Ω–æ –Ω–∞–ø–∏—Å–∞–ª, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ EEUnitState
        if (baseName.startsWith('E') && baseName.length > 1 && baseName[1] === baseName[1].toUpperCase()) {
            baseName = baseName.substring(1);
        }
        
        const enumFullName = "E" + baseName;
        
        const typeSelect = document.getElementById('enumType').value;
        const typeStr = (typeSelect !== 'none') ? ` : ${typeSelect}` : '';

        const isUE = document.getElementById('useUEnum').checked;
        const useMeta = document.getElementById('genMetaData').checked;
        const addMax = document.getElementById('addMax').checked;
        const useClass = document.getElementById('useClass').checked;

        // –ü–∞—Ä—Å–∏–Ω–≥
        let items = input.split(/[\n, ]+/).map(s => s.trim()).filter(s => s !== '');

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è
        let lines = [];

        if (isUE) {
            lines.push(`UENUM(BlueprintType)`);
        }

        const enumKeyword = useClass ? "enum class" : "enum";
        lines.push(`${enumKeyword} ${enumFullName}${typeStr}`);
        lines.push(`{`);

        items.forEach((item, index) => {
            let line = `    ${item}`;
            
            if (isUE && useMeta) {
                const prettyName = toTitleCase(item);
                line += ` UMETA(DisplayName = "${prettyName}")`;
            }

            // –ó–∞–ø—è—Ç–∞—è –Ω—É–∂–Ω–∞ –≤—Å–µ–º –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ, –µ—Å–ª–∏ –º—ã –Ω–µ –≤ C++11 (–Ω–æ —Å–µ–π—á–∞—Å –≤–µ–∑–¥–µ –º–æ–∂–Ω–æ)
            // –ù–æ –ª—É—á—à–µ —Å—Ç–∞–≤–∏—Ç—å –≤–µ–∑–¥–µ
            line += `,`;
            
            lines.push(line);
        });

        if (addMax) {
            // –î–ª—è _MAX –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–µ–Ω DisplayName, –æ–Ω —Å–∫—Ä—ã—Ç
            if (isUE && useMeta) {
                 lines.push(`    ${baseName}_MAX UMETA(Hidden)`);
            } else {
                 lines.push(`    ${baseName}_MAX`);
            }
        }

        lines.push(`};`);

        document.getElementById('outputArea').value = lines.join('\n');
    }

    function copyResult() {
        const copyText = document.getElementById("outputArea");
        copyText.select();
        document.execCommand("copy");
    }
</script>

</body>
</html>