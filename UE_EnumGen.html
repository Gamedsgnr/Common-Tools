<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>C++ Enum Generator</title>
    <style>
        :root {
            --bg: #1a1f2b;
            --panel: rgba(30, 41, 59, 0.45);
            --panel-strong: rgba(30, 41, 59, 0.6);
            --border: rgba(148, 163, 184, 0.28);
            --text: #dbe7f3;
            --text-muted: #9aa4b2;
            --accent: #6f98b2;
            --accent-strong: #3f6aa6;
            --accent-purple: #8d82ba;
            --string: #ce9178;
        }
        body { font-family: 'Segoe UI', Consolas, sans-serif; background-color: var(--bg); color: var(--text); padding: 20px; display: flex; justify-content: center; }
        .container {
            background: var(--panel);
            width: 900px;
            padding: 25px;
            border-radius: 16px;
            border: 1px solid var(--border);
            box-shadow: 0 18px 30px -12px rgba(2, 6, 23, 0.7), inset 0 1px 0 rgba(255, 255, 255, 0.22), inset 0 -10px 22px rgba(2, 6, 23, 0.32);
            backdrop-filter: blur(18px) saturate(1.2);
            -webkit-backdrop-filter: blur(18px) saturate(1.2);
        }
        
        h2 { margin-top: 0; color: var(--accent); border-bottom: 1px solid var(--border); padding-bottom: 10px; }
        h4 { margin: 15px 0 5px 0; color: var(--accent-purple); }
        
        .row { display: flex; gap: 20px; margin-bottom: 15px; }
        .col { flex: 1; display: flex; flex-direction: column; }
        
        textarea, input[type="text"], select {
            background: rgba(15, 23, 42, 0.65);
            color: var(--text);
            border: 1px solid var(--border);
            padding: 10px 12px;
            border-radius: 12px;
            font-family: monospace;
            font-size: 1em;
            outline: none;
            box-shadow: inset 0 0 12px rgba(2, 6, 23, 0.35);
        }
        textarea { height: 120px; resize: vertical; }
        input[type="text"]:focus, select:focus, textarea:focus { border-color: rgba(125, 211, 252, 0.45); }

        label { font-size: 0.85em; color: var(--text-muted); margin-bottom: 4px; display: block; }
        
        button {
            background-color: var(--accent-strong);
            color: white;
            border: 1px solid rgba(125, 211, 252, 0.45);
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
            margin-top: 10px;
            box-shadow: 0 10px 18px -12px rgba(2, 6, 23, 0.7), inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }
        button:hover { filter: brightness(1.1); }
        button.secondary { background: rgba(15, 23, 42, 0.7); border-color: var(--border); color: var(--text); }

        .settings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            background: var(--panel-strong);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid var(--border);
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.12);
        }
        .checkbox-row { display: flex; align-items: center; gap: 8px; font-size: 0.9em; margin-top: 5px; }
        input[type="checkbox"] { transform: scale(1.1); accent-color: var(--accent-strong); }

        #outputArea { height: 300px; color: var(--text); }
        
        .hl-kw { color: var(--accent); }
        .hl-type { color: var(--accent); }
        .hl-str { color: var(--string); }
    </style>
</head>
<body>

<div class="container">
    <h2>üî∑ C++ Enum Generator</h2>

    <div class="row">
        <div class="col">
            <label>–°–ø–∏—Å–æ–∫ –∑–Ω–∞—á–µ–Ω–∏–π (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏: –ø—Ä–æ–±–µ–ª, –∑–∞–ø—è—Ç–∞—è, Enter):</label>
            <textarea id="inputStr" placeholder="Idle, Run, Jump, AttackMelee, AttackRanged, Death">Idle, Run, Jump, AttackMelee, AttackRanged, Death</textarea>
        </div>
    </div>

    <div class="settings-grid">
        <div>
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –≠–Ω—É–º–∞ (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ E, –¥–æ–±–∞–≤–ª—é —Å–∞–º):</label>
            <input type="text" id="enumName" value="UnitState">
            
            <label style="margin-top:10px;">–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö (Underlying Type):</label>
            <select id="enumType">
                <option value="uint8">uint8 (UE Standard)</option>
                <option value="int32">int32</option>
                <option value="none">–ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å</option>
            </select>
        </div>

        <div>
            <label>–°—Ç–∏–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:</label>
            <div class="checkbox-row">
                <input type="checkbox" id="useUEnum" checked onchange="updateUI()">
                <span>Unreal Engine (UENUM + BlueprintType)</span>
            </div>
            <div class="checkbox-row">
                <input type="checkbox" id="genMetaData" checked>
                <span>–î–æ–±–∞–≤–∏—Ç—å UMETA(DisplayName)</span>
            </div>
            <div class="checkbox-row">
                <input type="checkbox" id="addMax" checked>
                <span>–î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç _MAX –≤ –∫–æ–Ω—Ü–µ</span>
            </div>
            <div class="checkbox-row">
                <input type="checkbox" id="useClass" checked>
                <span>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å enum class (Scoped)</span>
            </div>
        </div>
    </div>
        
    <button onclick="generateEnum()" style="width: 100%">–°–ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –ö–û–î</button>

    <div class="row" style="margin-top: 20px;">
        <div class="col">
            <label>–ì–æ—Ç–æ–≤—ã–π –∫–æ–¥:</label>
            <textarea id="outputArea" readonly spellcheck="false"></textarea>
            <button class="secondary" onclick="copyResult()" style="width: auto; align-self: flex-start; margin-top:5px;">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
    </div>
</div>

<script>
    function updateUI() {
        const isUE = document.getElementById('useUEnum').checked;
        const metaCheck = document.getElementById('genMetaData');
        if(!isUE) {
            metaCheck.checked = false;
            metaCheck.disabled = true;
        } else {
            metaCheck.disabled = false;
        }
    }

    function toTitleCase(str) {
        // –†–∞–∑–±–∏–≤–∞–µ—Ç CamelCase –Ω–∞ —Å–ª–æ–≤–∞ —Å –ø—Ä–æ–±–µ–ª–∞–º–∏: "AttackMelee" -> "Attack Melee"
        const result = str.replace(/([A-Z])/g, " $1");
        return result.charAt(0).toUpperCase() + result.slice(1).trim();
    }

    function generateEnum() {
        const input = document.getElementById('inputStr').value;
        let baseName = document.getElementById('enumName').value.trim();
        
        // –£–¥–∞–ª—è–µ–º –ø—Ä–µ—Ñ–∏–∫—Å E, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ–≥–æ —Å–ª—É—á–∞–π–Ω–æ –Ω–∞–ø–∏—Å–∞–ª, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ EEUnitState
        if (baseName.startsWith('E') && baseName.length > 1 && baseName[1] === baseName[1].toUpperCase()) {
            baseName = baseName.substring(1);
        }
        
        const enumFullName = "E" + baseName;
        
        const typeSelect = document.getElementById('enumType').value;
        const typeStr = (typeSelect !== 'none') ? ` : ${typeSelect}` : '';

        const isUE = document.getElementById('useUEnum').checked;
        const useMeta = document.getElementById('genMetaData').checked;
        const addMax = document.getElementById('addMax').checked;
        const useClass = document.getElementById('useClass').checked;

        // –ü–∞—Ä—Å–∏–Ω–≥
        let items = input.split(/[\n, ]+/).map(s => s.trim()).filter(s => s !== '');

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è
        let lines = [];

        if (isUE) {
            lines.push(`UENUM(BlueprintType)`);
        }

        const enumKeyword = useClass ? "enum class" : "enum";
        lines.push(`${enumKeyword} ${enumFullName}${typeStr}`);
        lines.push(`{`);

        items.forEach((item, index) => {
            let line = `    ${item}`;
            
            if (isUE && useMeta) {
                const prettyName = toTitleCase(item);
                line += ` UMETA(DisplayName = "${prettyName}")`;
            }

            // –ó–∞–ø—è—Ç–∞—è –Ω—É–∂–Ω–∞ –≤—Å–µ–º –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ, –µ—Å–ª–∏ –º—ã –Ω–µ –≤ C++11 (–Ω–æ —Å–µ–π—á–∞—Å –≤–µ–∑–¥–µ –º–æ–∂–Ω–æ)
            // –ù–æ –ª—É—á—à–µ —Å—Ç–∞–≤–∏—Ç—å –≤–µ–∑–¥–µ
            line += `,`;
            
            lines.push(line);
        });

        if (addMax) {
            // –î–ª—è _MAX –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–µ–Ω DisplayName, –æ–Ω —Å–∫—Ä—ã—Ç
            if (isUE && useMeta) {
                 lines.push(`    ${baseName}_MAX UMETA(Hidden)`);
            } else {
                 lines.push(`    ${baseName}_MAX`);
            }
        }

        lines.push(`};`);

        document.getElementById('outputArea').value = lines.join('\n');
    }

    function copyResult() {
        const copyText = document.getElementById("outputArea");
        copyText.select();
        document.execCommand("copy");
    }
</script>

</body>
</html>
