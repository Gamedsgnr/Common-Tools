<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>BP Adder</title>
    <style>
        body { background: #222; color: #ddd; font-family: sans-serif; padding: 30px; max-width: 800px; margin: 0 auto; }
        input, textarea { width: 100%; background: #333; border: 1px solid #444; color: white; padding: 10px; margin-bottom: 15px; border-radius: 4px; box-sizing: border-box; }
        textarea.code-in { height: 100px; font-family: monospace; font-size: 10px; opacity: 0.7; }
        label { color: #4ec9b0; font-weight: bold; margin-bottom: 5px; display: block; }
        .hint { font-size: 0.8em; color: #888; margin-bottom: 5px; }
        
        button { background: #007acc; color: white; border: none; padding: 15px; width: 100%; cursor: pointer; font-weight: bold; font-size: 1.1em; }
        button:hover { background: #0062a3; }

        .result-box { margin-top: 30px; background: #151515; padding: 20px; border: 2px dashed #444; display: none; }
    </style>
</head>
<body>
    <h2>➕ Добавить Блюпринт в библиотеку</h2>
    
    <label>1. Название (Title)</label>
    <input type="text" id="inTitle" placeholder="Пример: Advanced Locomotion Logic">

    <label>2. Описание</label>
    <input type="text" id="inDesc" placeholder="Кратко, о чем это...">

    <label>3. ID с сайта BlueprintUE</label>
    <div class="hint">Из ссылки https://blueprintue.com/render/<b>7m8ees6k</b>/ копируй только жирную часть.</div>
    <input type="text" id="inId" placeholder="7m8ees6k">

    <label>4. Исходный код (Ctrl+C из Unreal Engine)</label>
    <div class="hint">Это нужно, чтобы кнопка "Copy Code" работала даже без интернета.</div>
    <textarea id="inCode" class="code-in" placeholder="Begin Object Class=..."></textarea>

    <button onclick="generate()">СГЕНЕРИРОВАТЬ JSON</button>

    <div class="result-box" id="resultArea">
        <p style="color: #4ec9b0; margin-top: 0;">Скопируй текст ниже и добавь в файл <b>blueprints_db.js</b>:</p>
        <textarea id="outJson" style="height: 150px; color: #ce9178; font-family: monospace;"></textarea>
    </div>

    <script>
        function generate() {
            const title = document.getElementById('inTitle').value;
            const desc = document.getElementById('inDesc').value;
            const embedId = document.getElementById('inId').value.trim();
            const rawCode = document.getElementById('inCode').value;

            if(!title || !embedId) { alert("Заполни хотя бы Title и ID!"); return; }

            const obj = {
                id: "bp_" + Date.now().toString().slice(-6),
                title: title,
                desc: desc,
                embedId: embedId,
                rawCode: rawCode
            };

            // Красивый JSON, добавляем запятую в начало для удобства вставки в массив
            let jsonStr = JSON.stringify(obj, null, 4);
            jsonStr = "," + jsonStr; 

            const out = document.getElementById('outJson');
            out.value = jsonStr;
            document.getElementById('resultArea').style.display = 'block';
            out.select();
        }
    </script>
</body>
</html>